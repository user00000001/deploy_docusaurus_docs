"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[3667],{3331:(e,n,l)=>{l.d(n,{R:()=>a,x:()=>s});var o=l(8101);const i={},t=o.createContext(i);function a(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(t.Provider,{value:n},e.children)}},6248:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>r,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"english/blockchain/wallet/README","title":"Wallet Compile & Dev Debug & Run","description":"Prepare your compile environment","source":"@site/docs/english/blockchain/wallet/README.md","sourceDirName":"english/blockchain/wallet","slug":"/english/blockchain/wallet/","permalink":"/deploy_docusaurus_docs/docs/english/blockchain/wallet/","draft":false,"unlisted":false,"editUrl":"https://github.com/user00000001/docusaurus_docs/tree/master/blog/docs/english/blockchain/wallet/README.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Modify Code For Private Net","permalink":"/deploy_docusaurus_docs/docs/english/blockchain/modifyCode"},"next":{"title":"\u672a\u5f52\u7c7b\u6587\u6863","permalink":"/deploy_docusaurus_docs/docs/category/\u672a\u5f52\u7c7b\u6587\u6863"}}');var i=l(5105),t=l(3331);const a={},s="Wallet Compile & Dev Debug & Run",r={},d=[{value:"Prepare your compile environment",id:"prepare-your-compile-environment",level:2},{value:"1. Download nodejs with v10.x.x or use <strong>nvm</strong> to install v10.x.x, install dependencies",id:"1-download-nodejs-with-v10xx-or-use-nvm-to-install-v10xx-install-dependencies",level:3},{value:"Delete <code>mkdirp@*</code>&#39;s version info, add its symbal into a lower version like this",id:"delete-mkdirps-version-info-add-its-symbal-into-a-lower-version-like-this",level:4},{value:"2. Install meteor instantly by this command if your network allows",id:"2-install-meteor-instantly-by-this-command-if-your-network-allows",level:3},{value:"or download install script and modify it, download the meteor package alone",id:"or-download-install-script-and-modify-it-download-the-meteor-package-alone",level:4},{value:"Find those infomations in this file",id:"find-those-infomations-in-this-file",level:4},{value:"Download this file like: <code>https://static-meteor.netdna-ssl.com/packages-bootstrap/1.10.1/meteor-bootstrap-os.linux.x86_64.tar.gz</code> with thunder downloader. modify some positions below",id:"download-this-file-like-httpsstatic-meteornetdna-sslcompackages-bootstrap1101meteor-bootstrap-oslinuxx86_64targz-with-thunder-downloader-modify-some-positions-below",level:4},{value:"Then install meteor manual",id:"then-install-meteor-manual",level:4},{value:"3. Install GraphicsMagick for <code>gm</code> command",id:"3-install-graphicsmagick-for-gm-command",level:3},{value:"4. Install a specify version of <code>icns2png</code> by this source",id:"4-install-a-specify-version-of-icns2png-by-this-source",level:3},{value:"Compile with glup",id:"compile-with-glup",level:2},{value:"1. Modify the configuration",id:"1-modify-the-configuration",level:3},{value:"2. Compile",id:"2-compile",level:3},{value:"Development",id:"development",level:2},{value:"1. For one meteor command",id:"1-for-one-meteor-command",level:3},{value:"2. For another meteor command",id:"2-for-another-meteor-command",level:3},{value:"3. Run The Dev Debug",id:"3-run-the-dev-debug",level:3},{value:"4. For a local clientBinaries.json, modify a position",id:"4-for-a-local-clientbinariesjson-modify-a-position",level:3},{value:"Run the wallet",id:"run-the-wallet",level:2},{value:"1. Get the package",id:"1-get-the-package",level:3},{value:"2. Run the wallet by command",id:"2-run-the-wallet-by-command",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"wallet-compile--dev-debug--run",children:"Wallet Compile & Dev Debug & Run"})}),"\n",(0,i.jsx)(n.h2,{id:"prepare-your-compile-environment",children:"Prepare your compile environment"}),"\n",(0,i.jsxs)(n.h3,{id:"1-download-nodejs-with-v10xx-or-use-nvm-to-install-v10xx-install-dependencies",children:["1. Download nodejs with v10.x.x or use ",(0,i.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm/blob/master/README.md",children:(0,i.jsx)(n.strong,{children:"nvm"})})," to install v10.x.x, install dependencies"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"npm install -g yarn gulp meteor-build-client\ngit clone https://github.com/wanchain/wanwallet.git --recursive\ngit clone https://github.com/wanchain/meteor-dapp-wallet.git --recursive\ncd wanwallet\nyarn && yarn postinstall\nyarn remove jsdoc && yarn add jsdoc@3.5.5\nyarn remove log4js && yarn add log4js@^6.1.2\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"delete-mkdirps-version-info-add-its-symbal-into-a-lower-version-like-this",children:["Delete ",(0,i.jsx)(n.code,{children:"mkdirp@*"}),"'s version info, add its symbal into a lower version like this"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"yarn.lock"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'mkdirp@*, mkdirp@0.5.1:\n  version "0.5.1"\n  resolved "https://registry.npm.taobao.org/mkdirp/download/mkdirp-0.5.1.tgz?cache=0&sync_timestamp=1585843076463&other_urls=https%3A%2F%2Fregistry.npm.taobao.org%2Fmkdirp%2Fdownload%2Fmkdirp-0.5.1.tgz#30057438eac6cf7f8c4767f38648d6697d75c903"\n  integrity sha1-MAV0OOrGz3+MR2fzhkjWaX11yQM=\n  dependencies:\n    minimist "0.0.8"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-install-meteor-instantly-by-this-command-if-your-network-allows",children:"2. Install meteor instantly by this command if your network allows"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"curl https://install.meteor.com/ | sh\n"})}),"\n",(0,i.jsx)(n.h4,{id:"or-download-install-script-and-modify-it-download-the-meteor-package-alone",children:"or download install script and modify it, download the meteor package alone"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"curl https://install.meteor.com/ -o install_meteor.sh && chmod +x instanll_meteor.sh\n"})}),"\n",(0,i.jsx)(n.h4,{id:"find-those-infomations-in-this-file",children:"Find those infomations in this file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'RELEASE="1.10.1"\n# .........some lines...........\nTARBALL_URL="https://static-meteor.netdna-ssl.com/packages-bootstrap/${RELEASE}/meteor-bootstrap-${PLATFORM}.tar.gz"\n# .........some lines...........\nelif [ "$UNAME" = "Linux" ] ; then\n  ### Linux ###\n  LINUX_ARCH=$(uname -m)\n  if [ "${LINUX_ARCH}" = "i686" ] ; then\n    PLATFORM="os.linux.x86_32"\n  elif [ "${LINUX_ARCH}" = "x86_64" ] ; then\n    PLATFORM="os.linux.x86_64"\n  else\n    echo "Unusable architecture: ${LINUX_ARCH}"\n    echo "Meteor only supports i686 and x86_64 for now."\n    exit 1\n  fi\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"download-this-file-like-httpsstatic-meteornetdna-sslcompackages-bootstrap1101meteor-bootstrap-oslinuxx86_64targz-with-thunder-downloader-modify-some-positions-below",children:["Download this file like: ",(0,i.jsx)(n.code,{children:"https://static-meteor.netdna-ssl.com/packages-bootstrap/1.10.1/meteor-bootstrap-os.linux.x86_64.tar.gz"})," with thunder downloader. modify some positions below"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell{1}",children:'TARBALL_FILE="YOUR_METEOR_PACKAGE_DOWNLOAD_PATH"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"**********************!!!PROTECTION POLICY!!!**********************\nWaiting For The Next Deployment, Maybe It Would Be Displayed After That.\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"**********************!!!PROTECTION POLICY!!!**********************\nWaiting For The Next Deployment, Maybe It Would Be Displayed After That.\n"})}),"\n",(0,i.jsx)(n.h4,{id:"then-install-meteor-manual",children:"Then install meteor manual"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"**********************!!!PROTECTION POLICY!!!**********************\nWaiting For The Next Deployment, Maybe It Would Be Displayed After That.\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"3-install-graphicsmagick-for-gm-command",children:["3. Install GraphicsMagick for ",(0,i.jsx)(n.code,{children:"gm"})," command"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"sudo apt install graphicsmagick\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"4-install-a-specify-version-of-icns2png-by-this-source",children:["4. Install a specify version of ",(0,i.jsx)(n.code,{children:"icns2png"})," by this ",(0,i.jsx)(n.a,{href:"https://launchpad.net/ubuntu/+source/libicns/0.8.1-3ubuntu0.16.10.0/+build/11850940",children:"source"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"**********************!!!PROTECTION POLICY!!!**********************\nWaiting For The Next Deployment, Maybe It Would Be Displayed After That.\n"})}),"\n",(0,i.jsx)(n.h2,{id:"compile-with-glup",children:"Compile with glup"}),"\n",(0,i.jsx)(n.h3,{id:"1-modify-the-configuration",children:"1. Modify the configuration"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"config.json"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "mode":"wallet",\n    "production": true,\n    "internal": false\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-compile",children:"2. Compile"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"glup --wallet --internal --linux --win\n"})}),"\n",(0,i.jsx)(n.h2,{id:"development",children:"Development"}),"\n",(0,i.jsx)(n.h3,{id:"1-for-one-meteor-command",children:"1. For one meteor command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd interface && meteor --no-release-check\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-for-another-meteor-command",children:"2. For another meteor command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd interface && meter --port 3050\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-run-the-dev-debug",children:"3. Run The Dev Debug"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"**********************!!!PROTECTION POLICY!!!**********************\nWaiting For The Next Deployment, Maybe It Would Be Displayed After That.\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-for-a-local-clientbinariesjson-modify-a-position",children:"4. For a local clientBinaries.json, modify a position"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"modules/settings.js:299"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js{2,4}",children:"    get checkAppVersion() {\n        let defauleUrl = 'http://localhost:8888/'\n        // 'https://raw.githubusercontent.com/wanchain/wanwallet/wanchain3.0_beta/'\n        // let defauleUrl = 'https://raw.githubusercontent.com/wanchain/wanwallet/wanchain3.0_beta/'\n\n        // /./\n        // /^https:\\/\\/www\\.wanchain\\.org\\/download\\/(?:.+)/\n        let url_regex = /^https:\\/\\/www\\.wanchain\\.org\\/download\\/(?:.+)/\n\n        let result = {\n            url_regex: url_regex,\n            appVersion: defauleUrl + 'wanwalletVersion.json',\n            gwanVersion: defauleUrl + 'clientBinaries.json'\n        };\n        return result;\n    }\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"python -m http.server 8888\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"yarn dev:electron --internal\n"})}),"\n",(0,i.jsx)(n.h2,{id:"run-the-wallet",children:"Run the wallet"}),"\n",(0,i.jsx)(n.h3,{id:"1-get-the-package",children:"1. Get the package"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd dist_wallet/release/\nrm -rf linux-unpacked\nunzip WanWalletGui-linux64-*.zip\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-run-the-wallet-by-command",children:"2. Run the wallet by command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'./linux-unpacked/wanwalletgui --rpc http://localhost:8545\n# gwan --rpc --rpcport 8545 --rpccorsdomain "*" --rpcapi "db,eth,net,web3,personal,admin,miner,pos"\n# ./linux-unpacked/wanwalletgui --rpc ~/.wanchain/gwan.ipc\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);